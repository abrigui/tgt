
{% extends "layoutFront.html.twig" %}

{% block content %}
    <div class="container">
        <div class="tt-messages-layout">
            <div class="row no-gutters">
                <div class="col-md-4 tt-aside" id="js-aside">
                    <a href="#" class="tt-title-aside">
                        <h2 class="tt-title">
                            Messages
                        </h2>
                        <i class="tt-icon">
                            <svg class="icon">
                                <use xlink:href="#icon-pencil"></use>
                            </svg>
                        </i>
                    </a>
                    <div class="tt-all-avatar">
                        <div class="tt-box-search">
                            <input class="tt-input" type="text" placeholder="Search messages">
                            <a href="#" class="tt-btn-input">
                                <svg>
                                    <use xlink:href="#icon-search"></use>
                                </svg>
                            </a>
                            <a href="#" class="tt-btn-icon">
                                <svg class="icon">
                                    <use xlink:href="#icon-filter"></use>
                                </svg>
                            </a>
                        </div>
                        <div class="tt-list-avatar js-init-scroll ps-container ps-theme-default ps-active-y" data-ps-id="1c33039f-ae77-eb2f-e619-0dab9341eb72">
                            {% for t in threads %}
                                <div  class="tt-item">
                                    <a href="{{ url('accueil_message',{'id':t.id}) }}">
                                        <div class="tt-col-avatar">
                                            <svg class="tt-icon">
                                                <use xlink:href="#icon-ava-{{ t.createdBy.username | lower |first }}"></use>
                                            </svg>
                                        </div>
                                        <div class="tt-col-description">
                                            <h4 class="tt-title"><span>{{ t.otherParticipants( user) | last}}</span> <span class="time">Jan 12</span></h4>
                                            <div class="tt-message">{{ t.lastMessage.sender }}: {{ t.lastMessage.body }}</div>
                                        </div>
                                    </a>
                                </div>
                            {% endfor %}
                            <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; height: 769px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 591px;"></div></div></div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="tt-title-content">
                        <a href="#" class="tt-toggle-aside">
                            <i class="tt-icon">
                                <svg class="icon">
                                    <use xlink:href="#icon-arrow_left"></use>
                                </svg>
                            </i>
                        </a>
                        <h2 class="tt-title">
                            Kevin
                        </h2>
                        <div class="tt-description">
                            Last seen 3h ago
                        </div>
                        <a href="#" class="tt-icon-link">
                            <i class="tt-icon">
                                <svg class="icon">
                                    <use xlink:href="#notification"></use>
                                </svg>
                            </i>
                        </a>
                    </div>
                    <div class="tt-list-time-topic">
                        <div class="tt-item-title">
                            <span>12/26/2017</span>
                        </div>

                        {% for m in thread.messages %}
                            <div class="tt-item">
                                <div class="tt-col-avatar">
                                    <svg class="tt-icon">
                                        <use xlink:href="#icon-ava-{{ m.sender.username | lower |first }}"></use>
                                    </svg>
                                </div>
                                <div class="tt-col-description">
                                    <h4 class="tt-title"><a href="#">{{ m.sender.username }}</a> <span class="time">3:16 AM</span></h4>
                                    <p>{{ m.body }} </p>
                                </div>
                            </div>
                        {% endfor %}

                    </div>
                    <div class="tt-wrapper-inner">
                        <div class="pt-editor form-default">
                            <div class="pt-row">
                                <div class="col-left">
                                    <ul class="pt-edit-btn">
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-quote"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-bold"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-italic"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-share_topic"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-blockquote"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-performatted"></use>
                                                </svg>
                                            </button></li>
                                        <li class="hr"></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-upload_files"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-bullet_list"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-heading"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-horizontal_line"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-emoticon"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-settings"></use>
                                                </svg>
                                            </button></li>
                                        <li><button type="button" class="btn-icon">
                                                <svg class="tt-icon">
                                                    <use xlink:href="#icon-color_picker"></use>
                                                </svg>
                                            </button></li>
                                    </ul>
                                </div>
                            </div>
                            <form action="{{ url('accueil_message', {'id': thread.id}) }}" method="post">

                                <div class="form-group">
                                    {{ form_widget(form.body, {'attr': {'class': 'form-control',"placeholder":"Write your message here",'id':"message_body", "name":"message[body]", "type":"textarea"}}) }}

                                    {{ form_widget(form._token) }}
                                </div>
                                <div class="pt-row">
                                    <div class="col-auto ml-auto">
                                        <input type="submit" class="btn btn-secondary btn-custom" value="Send" />

                                    </div>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

