{% extends 'layoutBack.html.twig' %}

{% block content %}

    <div class="container">

        <center><h1>Liste des Agence</h1></center>
        <center><a href="{{ path('AfficheAgencePdf') }}"><button class="btn btn-xs" style=""><i class="fa fa-download" aria-hidden="true">Telecharger en version pdf</i></button></a></center>
        <div class="container">
            <div class="input-group m-4">
                <div class="input-group-prepend">
                    <span class="input-group-text cyan lighten-2" id="basic-text1"><i class="fa fa-search text-white" aria-hidden="true"></i></span>
                </div>
                <input class="form-control my-0 py-1" id="myInput" type="text" placeholder="Search.." onkeyup='searchTable()'>
            </div>
        </div>
        <script type="text/javascript">
            function searchTable() {
                var input, filter, table, tr, td, i;
                input = document.getElementById("myInput");
                filter = input.value.toUpperCase();
                table = document.getElementById("dataprotable");
                tr = table.getElementsByTagName("tr");

                // Loop through all table rows, and hide those who don't match the search query
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td") ;


                    for(j=0 ; j<td.length ; j++)
                    {
                        let tdata = td[j] ;
                        if (tdata) {
                            if (tdata.innerHTML.toUpperCase().indexOf(filter) > -1) {
                                tr[i].style.display = "";
                                break ;
                            } else {
                                tr[i].style.display = "none";



                            }
                        }
                    }
                }
            }

        </script>
        <br>
    </div>
    <div class="container ml-0 p-0">
            <table class="table table-striped" size="sm" id="dataprotable">
                <thead>

                <thead >
                <th scope="col">Id Agence</th>
                <th scope="col">Nom</th>
                <th scope="col">Matricule Fiscale</th>
                <th scope="col">Adresse</th>
                <th scope="col">Telephone</th>
                <th scope="col">Fax</th>
                <th scope="col">site</th>
                <th scope="col">Email</th>


                </thead>




                {% for form in c %}
                    <tbody>

                    <tr>
                        <td>{{ form.id }}</td>
                        <td>{{ form.nom }}</td>
                        <td>{{ form.matriculeFiscale }}</td>
                        <td>{{ form.adresse }}</td>
                        <td>{{ form.telephone }}</td>
                        <td>{{ form.fax }}</td>
                        <td>{{ form.site }}</td>
                        <td>{{ form.email}}</td>

                        <td><a href="{{ path('DetailAgenceBack',{'id':form.id}) }}" class="btn btn-danger fa fa-trash">supprimer</a></td>

                        <td></td>

                    </tbody>
                    </tr>

                {% endfor %}
            </table>


    </div>


{% endblock %}